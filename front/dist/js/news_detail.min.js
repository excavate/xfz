function NewsList(){}NewsList.prototype.listenSubmitEvent=function(){var n=$(".submit-btn"),s=$("textarea[name='comment']");n.click(function(){var t=s.val(),e=n.attr("data-news-id");xfzajax.post({url:"/news/public_comment/",data:{content:t,news_id:e},success:function(t){var e,n;console.log(t),200===t.code?(e=t.data,n=template("comment-item",{comment:e}),$(".comment-list").prepend(n),window.messageBox.showSuccess("评论发表成功！"),s.val("")):window.messageBox.showError(t.message)}})})},NewsList.prototype.run=function(){this.listenSubmitEvent()},$(function(){(new NewsList).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmV3c19kZXRhaWwubWluLmpzIiwic291cmNlcyI6WyJuZXdzX2RldGFpbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuZnVuY3Rpb24gTmV3c0xpc3QoKSB7XHJcblxyXG59XHJcblxyXG5OZXdzTGlzdC5wcm90b3R5cGUubGlzdGVuU3VibWl0RXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc3VibWl0QnRuID0gJCgnLnN1Ym1pdC1idG4nKTtcclxuICAgIHZhciB0ZXh0YXJlYSA9ICQoXCJ0ZXh0YXJlYVtuYW1lPSdjb21tZW50J11cIik7XHJcbiAgICBzdWJtaXRCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjb250ZW50ID0gdGV4dGFyZWEudmFsKCk7XHJcbiAgICAgICAgdmFyIG5ld3NfaWQgPSBzdWJtaXRCdG4uYXR0cignZGF0YS1uZXdzLWlkJyk7XHJcbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvbmV3cy9wdWJsaWNfY29tbWVudC8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6e1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiBjb250ZW50LFxyXG4gICAgICAgICAgICAgICAgJ25ld3NfaWQnOiBuZXdzX2lkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50ID0gcmVzdWx0WydkYXRhJ107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRwbCA9IHRlbXBsYXRlKCdjb21tZW50LWl0ZW0nLHtcImNvbW1lbnRcIjpjb21tZW50fSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1lbnRMaXN0R3JvdXAgPSAkKFwiLmNvbW1lbnQtbGlzdFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBjb21tZW50TGlzdEdyb3VwLnByZXBlbmQodHBsKTtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93U3VjY2Vzcygn6K+E6K665Y+R6KGo5oiQ5Yqf77yBJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dGFyZWEudmFsKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd0Vycm9yKHJlc3VsdFsnbWVzc2FnZSddKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5OZXdzTGlzdC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5saXN0ZW5TdWJtaXRFdmVudCgpO1xyXG59O1xyXG5cclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG5ld3NMaXN0ID0gbmV3IE5ld3NMaXN0KCk7XHJcbiAgICBuZXdzTGlzdC5ydW4oKTtcclxufSk7Il0sIm5hbWVzIjpbIk5ld3NMaXN0IiwicHJvdG90eXBlIiwibGlzdGVuU3VibWl0RXZlbnQiLCJzdWJtaXRCdG4iLCIkIiwidGV4dGFyZWEiLCJjbGljayIsImNvbnRlbnQiLCJ2YWwiLCJuZXdzX2lkIiwiYXR0ciIsInhmemFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJjb21tZW50IiwidHBsIiwiY29uc29sZSIsImxvZyIsInRlbXBsYXRlIiwicHJlcGVuZCIsIndpbmRvdyIsIm1lc3NhZ2VCb3giLCJzaG93U3VjY2VzcyIsInNob3dFcnJvciIsInJ1biIsInRoaXMiXSwibWFwcGluZ3MiOiJBQUNBLFNBQVNBLFlBSVRBLFNBQVNDLFVBQVVDLGtCQUFvQixXQUNuQyxJQUFJQyxFQUFZQyxFQUFFLGVBQ2RDLEVBQVdELEVBQUUsNEJBQ2pCRCxFQUFVRyxNQUFNLFdBQ1osSUFBSUMsRUFBVUYsRUFBU0csTUFDbkJDLEVBQVVOLEVBQVVPLEtBQUssZ0JBQzdCQyxRQUFRQyxLQUFLLENBQ1RDLElBQU8sd0JBQ1BDLEtBQU8sQ0FDSFAsUUFBV0EsRUFDWEUsUUFBV0EsR0FFZk0sUUFBVyxTQUFVQyxHQUVqQixJQUNRQyxFQUNBQyxFQUhSQyxRQUFRQyxJQUFJSixHQUNVLE1BQW5CQSxFQUFhLE1BQ1JDLEVBQVVELEVBQWEsS0FDdkJFLEVBQU1HLFNBQVMsZUFBZSxDQUFDSixRQUFVQSxJQUN0QmIsRUFBRSxpQkFDUmtCLFFBQVFKLEdBQ3pCSyxPQUFPQyxXQUFXQyxZQUFZLFdBQzlCcEIsRUFBU0csSUFBSSxLQUViZSxPQUFPQyxXQUFXRSxVQUFVVixFQUFnQixlQU9oRWhCLFNBQVNDLFVBQVUwQixJQUFNLFdBQ3JCQyxLQUFLMUIscUJBSVRFLEVBQUUsWUFDaUIsSUFBSUosVUFDVjJCIn0=
